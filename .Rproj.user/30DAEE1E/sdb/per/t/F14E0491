{
    "collab_server" : "",
    "contents" : "library(tidyverse)\nlibrary(readxl)\n\n\n######################################\n######### Migration within ###########\n######### Minnesota ##################\n######################################\n\n#read in crosswalk for years and PUMAs to Geographic Groupings\npumacrosswalk <- read_excel(\"./crosswalk/crosswalk_puma_to_mncounty.xlsx\") \nnames(pumacrosswalk)[3] <- \"geogroup\"\n\n#read in extract from IPUMS and join with crosswalk to geographic groupings\nin_state <- read_csv(\"usa_00011.csv.gz\") %>% \n  left_join(pumacrosswalk, by=c(\"PUMA\"=\"PUMA\", \"MULTYEAR\"=\"Year\")) %>% \n  migpumacrosswalk <- read_excel(\"./crosswalk/migpumacrosswalk.xlsx\",\n                                 sheet = \"MigPUMAtoGeogroup\") \n\n  \n  mutate(case_when(\n    \n  ))\n\n######################################\n######### Migration to MN   ##########\n######### From Other States ##########\n######################################\n\n#read in crosswalk for years and PUMAs to Geographic Groupings\npumacrosswalk <- read_excel(\"./crosswalk/crosswalk_puma_to_mncounty.xlsx\") \nnames(pumacrosswalk)[3] <- \"geogroup\"\n\n#read in extract from IPUMS and join with crosswalk to geographic groupings\ninmigration <- read_csv(\"usa_00011.csv.gz\") %>% \n  left_join(pumacrosswalk, by=c(\"PUMA\"=\"PUMA\", \"MULTYEAR\"=\"Year\")) %>%\n  mutate(agegroup = case_when(\n    AGE<17 ~ \"16 and Younger\",\n    AGE>=17 & AGE<24 ~ \"17 to 23\", \n    AGE>=24 & AGE<31 ~ \"24 to 30\",\n    AGE>=31 ~ \"31 and Over\"\n  ))\n\nsave(inmigration, file=\"inmigration.rda\")\n\n\n######################################\n######### Migration from MN ##########\n######### to Other States ############\n######################################\n\n#read in crosswalk for years and MIGPUMAs to Geographic Groupings\nmigpumacrosswalk <- read_excel(\"./crosswalk/migpumacrosswalk.xlsx\",\n                               sheet = \"MigPUMAtoGeogroup\") \n\n\noutmigration <- read_csv(\"usa_00012.csv.gz\") %>%\n  filter(STATEFIP != 27) %>%\n  left_join(migpumacrosswalk, by=c(\"MIGPUMA1\"=\"MIGPUMA\", \"MULTYEAR\"=\"Year\")) %>%\n  mutate(agegroup = case_when(\n    AGE<17 ~ \"16 and Younger\",\n    AGE>=17 & AGE<24 ~ \"17 to 23\", \n    AGE>=24 & AGE<31 ~ \"24 to 30\",\n    AGE>=31 ~ \"31 and Over\"\n  ))\n\nsave(outmigration, file=\"outmigration.rda\")\n\n",
    "created" : 1500309214012.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4192774795",
    "id" : "F14E0491",
    "lastKnownWriteTime" : 1500324748,
    "last_content_update" : 1500324751057,
    "path" : "I:/User/Williams/Data Assistance/mnmigration/clean.R",
    "project_path" : "clean.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}